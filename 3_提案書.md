# 提案書

| 設計書Ver.1の問題点（例）                                                                       | 改善案（例）                                                                                                                                                                                     | 詳細                                                                                                                                  | 
| ----------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------- | 
| ログインしていなくても直接URLを指定して他のページにアクセスできてしまう                         | session管理を追加：セッションの保存形式、有効時間、削除の方法<br>AUTHENTICATION_BACKENDS使用<br>DjangoのUserを利用：Employeeを変更<br>AbstractUserを継承                                         | ログイン時にセッション生成（キャッシュ）、ログアウト時に削除。有効時間は3600s（60分）に変更                                           | 
| ・得意先登録で得意先コードを自由に入力できるので既存のcustomer_codeを使用できる（上書きされる） | すでにある得意先コードには登録できないようにする<br>手動：既存のcustomer_codeと一致すれば登録不可（メッセージを表示）<br>自動採番：customer_numberingテーブル使用　登録完了後にレコードに+１する | customer_numberingテーブルの値は数値なのでRA0000の形式に加工するCustomerRegist.html内得意先コードのinputタグに required readonly 追記 | 
| ・得意先更新時にcustomer_codeを変更できる（他のものに上書もできる）                             | 検索結果の得意先コードは表示のみにする                                                                                                                                                           | CustomerUpdate.html内得意先コードのinputタグに required readonly 追記                                                                 | 
| ・得意先削除　レコード自体を削除していいのか（受注済みのデータはどうなる）                      | customerテーブルの削除フラグを使う(DEFAULT b'0')　削除の場合は1など<br>customerテーブルの削除フラグを使う(DEFAULT b'0')　削除の場合は1など                                                       | Customer.objects.get(customer_code=code, delete_flag=0)                                                                               | 




| 追加した方がいい機能（例）       | 詳細                                                                         | 
| -------------------------------- | ---------------------------------------------------------------------------- | 
| ・ログイン情報の表示             | 従業員番号、従業員名、日時、表示場所は？                                     | 
| ・得意先情報に割引率の設定をする | 検索、登録、更新、削除時に入力や表示させる　　　今後の得意先別集計に利用する | 
| （補足：）                       |                                                                              | 
| ・従業員の新規登録はどうする？   | 誰でも登録できるのか、管理者のみか                                           | 
| ・従業員の管理はどうする？       | 削除、変更、パスワード忘れ等                                                 | 